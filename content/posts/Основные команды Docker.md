---
title: Основные команды Docker
date: 2023-09-05T11:23:00+03:00
draft: true
---
Мне пришлось написать этот довольно банальный список команд для себя, так как есть множество docker команд, и бывает довольно сложно быстро их все вспомнить. 

```
docker ps / docker ps -a
```
Команда для вывода запущенных / вывода всех (запущенных и остановленных) контейнеров

```
docker image ls / images
```
Команда для вывода всех образов в Docker Engine на вашем хосте.

```
docker image rm <image_name> / rmi <image_name>
```
Команда для удаления образа. Имейте ввиду, что перед этим вы должны удалить все контейнеры (даже остановленные), созданные из этого образа. Чтобы это сделать:
```
docker rm <container_name>
```

Однако, вы не сможете удалить запущенный контейнер, так что вам сначала надо его остановить:
```
docker stop <container_name>
```

Идем далее,
```
docker run <image_name> / docker run <image_name> <cmd to run inside>
```
Создание контейнера из образа и запуск этого контейнера / с некой командой внутри этого контейнера. Флаг `-d` запускает контейнер в detach режиме (в режиме демона). В этом случае вы не увидите вывод и логи контейнера в терминале. Чтобы подключиться к контейнеру, запущенному в таком режиме, можно воспользоваться этой командой:
```
docker attach <container_name>
```

Выволнить какую-либо команду в уже запущенном контейнере:
```
docker exec <container_name> <cmd to run inside>
```

Вы также можете запустить команду в интерактивном режиме: 
```
docker exec -it <container_name> sh
```
В примере выше мы запускаем shell в интерактивном режиме в работающем контейнере. Далее мы попадаем внутрь контейнера и можем вводить другие команды.

По умолчанию нет никакого проброса портов между контейнером и хостом. Этот проброс нужно задать явно, используя `-p` флаг. Слева у нас будет порт хоста, справа - порт контейнера:
```
docker run -p <host_port>:<app_port_inside_container> <some_image>
```


Для того, чтобы прокинуть хостовую папку в контейнер, можно использовать следующую команду (последовательность в маппинге та же):
```
docker run -v <host/dir>:<container/dir> <some_image>
```

Показать служебную информацию о контейнере:
```
docker inspect <some_container>
```

Показать логи (stdout) контейнера:
```
docker logs <some_container>
```

Продолжение следует...